# GoldenMill API Server

Сервер API для управления продуктами в админ-панели GoldenMill.

## Требования

- Node.js 14.x или выше
- npm 6.x или выше

## Установка

1. Установите зависимости:
```bash
npm install
```

2. Создайте необходимые директории:
```bash
mkdir -p uploads/products
mkdir -p data
```

3. Создайте начальный файл с данными:
```bash
echo '{"products":[]}' > data/products.json
```

## Запуск

### Режим разработки

```bash
npm run dev
```

Сервер запустится на http://localhost:3001 с автоматической перезагрузкой при изменениях.

### Продакшн режим

```bash
npm start
```

## API Endpoints

### GET /api/products
Получить список продуктов

Параметры запроса:
- `category` (опционально) - фильтр по категории
- `search` (опционально) - поиск по названию или описанию

### POST /api/products
Создать новый продукт

Тело запроса (multipart/form-data):
- `title` - название продукта
- `description` - описание продукта
- `category` - категория продукта
- `image` (опционально) - изображение продукта

### PUT /api/products/:id
Обновить существующий продукт

Параметры пути:
- `id` - ID продукта

Тело запроса (multipart/form-data):
- `title` (опционально) - новое название
- `description` (опционально) - новое описание
- `category` (опционально) - новая категория
- `image` (опционально) - новое изображение

### DELETE /api/products/:id
Удалить продукт

Параметры пути:
- `id` - ID продукта

## Структура проекта

```
server/
├── data/               # Файлы с данными
│   └── products.json   # JSON файл с продуктами
├── uploads/            # Загруженные файлы
│   └── products/       # Изображения продуктов
├── index.js           # Основной файл сервера
├── package.json       # Зависимости и скрипты
└── README.md          # Документация
```

## Ограничения

- Максимальный размер изображения: 5MB
- Поддерживаемые форматы изображений: JPEG, JPG, PNG, WebP 